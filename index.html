<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Unitix</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<body data-theme="auto">
    <div class="app-container">
        <nav class="nav-bar">
            <div class="logo"><i class="ph-fill ph-bolt"></i> Unitix</div>
            <div class="nav-items">
                <button class="nav-btn active" data-target="convert-panel"><i class="ph ph-ruler"></i><span>Mesures</span></button>
                <button class="nav-btn" data-target="currency-panel"><i class="ph ph-coins"></i><span>Devises</span></button>
                <button class="nav-btn" data-target="calc-panel"><i class="ph ph-calculator"></i><span>Calcul</span></button>
                <button class="nav-btn" data-target="notes-panel" id="nav-notes"><i class="ph ph-note-pencil"></i><span>Notes</span></button>
                <div class="spacer"></div>
                <button class="nav-btn" id="settings-toggle"><i class="ph ph-gear"></i><span>Réglages</span></button>
            </div>
        </nav>

        <main class="content">
            <section id="convert-panel" class="panel active">
                <header><h1>Mesures</h1></header>
                <div class="card">
                    <select id="unit-category" class="cat-select">
                        <option value="length">Longueur (km, m, ...)</option>
                        <option value="mass">Poids & Masse</option>
                        <option value="data">Stockage (Go, Mo...)</option>
                        <option value="temp">Température</option>
                    </select>
                    <div class="input-stack">
                        <div class="input-group">
                            <input type="number" id="unit-input" placeholder="0" inputmode="decimal">
                            <select id="unit-from"></select>
                        </div>
                        <div class="swap-zone"><button id="btn-swap-unit" class="swap-btn"><i class="ph ph-arrows-down-up"></i></button></div>
                        <div class="input-group result">
                            <input type="text" id="unit-output" readonly placeholder="Résultat">
                            <select id="unit-to"></select>
                        </div>
                    </div>
                </div>
            </section>

            <section id="currency-panel" class="panel">
                <header>
                    <h1>Devises</h1>
                    <div id="api-status" class="api-badge"><span class="dot"></span><span id="api-text">Sync...</span></div>
                </header>
                <div class="card">
                    <div class="input-stack">
                        <div class="input-group">
                            <input type="number" id="currency-input" placeholder="0" inputmode="decimal">
                            <select id="currency-from"></select>
                        </div>
                        <div class="swap-zone"><button id="btn-swap-currency" class="swap-btn"><i class="ph ph-arrows-down-up"></i></button></div>
                        <div class="input-group result">
                            <input type="text" id="currency-output" readonly placeholder="0.00">
                            <select id="currency-to"></select>
                        </div>
                    </div>
                </div>
            </section>

            <section id="calc-panel" class="panel">
                <header><h1>Calculatrice</h1></header>
                <div class="card">
                    <div class="calc-display">
                        <div id="calc-prev" class="calc-prev"></div>
                        <div id="calc-curr" class="calc-curr">0</div>
                    </div>
                    <div id="calc-btns" class="calc-grid">
                        </div>
                </div>
            </section>

            <section id="notes-panel" class="panel">
                <header><h1>Bloc-notes</h1></header>
                <div class="card">
                    <textarea id="note-pad" placeholder="Écrivez vos notes ici..."></textarea>
                </div>
            </section>

            <div id="settings-panel" class="overlay hidden">
                <div class="settings-card">
                    <h2>Réglages</h2>
                    <div class="setting-group">
                        <label>Couleur d'accent</label>
                        <div class="color-picker">
                            <div class="color-dot" style="background:#007AFF" data-color="#007AFF"></div>
                            <div class="color-dot" style="background:#FF2D55" data-color="#FF2D55"></div>
                            <div class="color-dot" style="background:#AF52DE" data-color="#AF52DE"></div>
                            <div class="color-dot" style="background:#34C759" data-color="#34C759"></div>
                        </div>
                    </div>
                    <button id="btn-reset" class="danger-btn">Réinitialiser l'app</button>
                    <button id="close-settings" class="close-btn">Fermer</button>
                </div>
            </div>
        </main>
    </div>

    <script type="module" src="main.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./service-worker.js');
        }
    </script>
    <script type="module" src="main.js"></script>
</body>
</body>
</html>